!function(){var e,t,n=document,a=window,i=window.__external_files_loaded=window.__external_files_loaded||{},l=window.__external_files_loading=window.__external_files_loading||{},o=function(e){return e.constructor===Array},s={autoLoad:!1,coreLib:[],mods:{}},d=n.getElementsByTagName("script"),r=d[d.length-1],c=[],p=!1,u=[],f=function(e,t,a,o,s){var r=d[0];if(e){if(i[e])return l[e]=!1,void(o&&o(e,s));if(l[e])setTimeout((function(){f(e,t,a,o,s)}),1);else{l[e]=!0;var c,p=t||e.toLowerCase().split(/\./).pop().replace(/[\?#].*/,"");if("js"===p?((c=n.createElement("script")).setAttribute("type","text/javascript"),c.setAttribute("src",e),c.setAttribute("async",!0)):"css"===p&&((c=n.createElement("link")).setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("href",e),i[e]=!0),c){if(a&&(c.charset=a),"css"===p)return r.parentNode.insertBefore(c,r),void(o&&o(e,s));c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i[this.getAttribute("src")]=!0,o&&o(this.getAttribute("src"),s),c.onload=c.onreadystatechange=null)},r.parentNode.insertBefore(c,r)}}}},h=function(e){if(e&&o(e)){for(var t,n=0,a=[],i=s.mods,l=[],d={},r=function(e){var t,n,a=0;if(d[e])return l;if(d[e]=!0,i[e].requires){for(n=i[e].requires;void 0!==(t=n[a++]);)i[t]?(r(t),l.push(t)):l.push(t);return l}return l};void 0!==(t=e[n++]);)i[t]&&i[t].requires&&i[t].requires[0]&&(l=[],d={},a=a.concat(r(t))),a.push(t);return a}},m=function(){p=!0,c.length>0&&(t.apply(this,c),c=[])},g=function(){n.addEventListener?n.removeEventListener("DOMContentLoaded",g,!1):n.attachEvent&&n.detachEvent("onreadystatechange",g),m()},v=function(){if(!p){try{n.documentElement.doScroll("left")}catch(e){return a.setTimeout(v,1)}m()}},y=function(e){e&&o(e)&&(this.queue=e,this.current=null)};y.prototype={_interval:10,start:function(){this.current=this.next(),this.current?this.run():this.end=!0},run:function(){var e,t=this,n=this.current;if("function"==typeof n)return n(),void this.start();"string"==typeof n&&(s.mods[n]?(e=s.mods[n],f(e.path,e.type,e.charset,(function(e){t.start()}),t)):/\.js|\.css/i.test(n)?f(n,"","",(function(e,t){t.start()}),t):this.start())},next:function(){return this.queue.shift()}},"string"==typeof(e=r.getAttribute("data-cfg-autoload"))&&(s.autoLoad="true"===e.toLowerCase()),"string"==typeof(e=r.getAttribute("data-cfg-corelib"))&&(s.coreLib=e.split(",")),(t=function(){var e=[].slice.call(arguments);u.length>0&&(e=u.concat(e)),s.autoLoad&&(e=s.coreLib.concat(e)),new y(h(e)).start()}).add=function(e,t){e&&t&&t.path&&(s.mods[e]=t)},t.delay=function(){var e=[].slice.call(arguments),n=e.shift();a.setTimeout((function(){t.apply(this,e)}),n)},t.global=function(){var e=[].slice.call(arguments);u=u.concat(e)},t.ready=function(){var e=[].slice.call(arguments);if(p)return t.apply(this,e);c=c.concat(e)},t.css=function(e){var t=n.getElementById("do-inline-css");t||((t=n.createElement("style")).type="text/css",t.id="do-inline-css",n.getElementsByTagName("head")[0].appendChild(t)),t.styleSheet?t.styleSheet.cssText=t.styleSheet.cssText+e:t.appendChild(n.createTextNode(e))},s.autoLoad&&t(s.coreLib),t.define=t.add,t._config=s,t._mods=s.mods,this.Do=t,function(){if("complete"===n.readyState)return a.setTimeout(m,1);var e=!1;if(n.addEventListener)n.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",m,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",g),a.attachEvent("onload",m);try{e=null===a.frameElement}catch(e){}document.documentElement.doScroll&&e&&v()}}()}(),function(e,t){var n,a=(n=t.getElementsByTagName("script"))[n.length-1];window.appManage=a.getAttribute("data-manage"),window.commonPath="/static/system/js/",Do.add("common",{path:commonPath+"common.js",type:"js"}),Do.add("toastCss",{path:commonPath+"toast/toast.min.css",type:"css"}),Do.add("toast",{path:commonPath+"toast/toast.min.js",type:"js",requires:["toastCss"]}),Do.add("promptCss",{path:commonPath+"prompt/base.css",type:"css"}),Do.add("prompt",{path:commonPath+"prompt/message.js",type:"js",requires:["promptCss"]}),Do.add("modal",{path:commonPath+"modal/bootstrap-show-modal.js",type:"js"}),Do.add("axios",{path:"https://lib.baomitu.com/axios/0.21.0/axios.min.js",type:"js"}),Do.add("selectCss",{path:"https://lib.baomitu.com/select2/4.1.0-rc.0/css/select2.min.css",type:"css"}),Do.add("selectSrc",{path:"https://lib.baomitu.com/select2/4.1.0-rc.0/js/select2.full.min.js"}),Do.add("select",{path:"https://lib.baomitu.com/select2/4.1.0-rc.0/js/i18n/zh-CN.js",requires:["selectSrc"]}),Do.add("password",{path:commonPath+"password/bootstrap-show-password.min.js",type:"js"}),Do.add("page",{path:commonPath+"pagination/jquery.twbsPagination.min.js",type:"js"}),Do.add("iconpickerCss",{path:commonPath+"iconpicker/css/bootstrap-iconpicker.css",type:"css"}),Do.add("iconpicker",{path:commonPath+"iconpicker/js/bootstrap-iconpicker.bundle.min.js",type:"js",requires:["iconpickerCss"]}),Do.add("inputmask",{path:commonPath+"Inputmask/jquery.inputmask.min.js",type:"js"}),Do.add("dateSrc",{path:"https://lib.baomitu.com/flatpickr/4.6.6/flatpickr.min.js",type:"js"}),Do.add("dateCss",{path:"https://lib.baomitu.com/flatpickr/4.6.6/flatpickr.css",type:"css"}),Do.add("date",{path:"https://lib.baomitu.com/flatpickr/4.6.6/l10n/zh.min.js",type:"js",requires:["dateCss","dateSrc"]}),Do.add("sortable",{path:"https://lib.baomitu.com/Sortable/1.14.0/Sortable.min.js",type:"js"}),Do.add("chatCss",{path:"https://lib.baomitu.com/apexcharts/3.22.2/apexcharts.min.css",type:"css"}),Do.add("chart",{path:"https://lib.baomitu.com/apexcharts/3.22.2/apexcharts.min.js",type:"js",requires:["chatCss"]}),Do.add("print",{path:"https://lib.baomitu.com/jQuery.print/1.6.0/jQuery.print.min.js"}),Do.add("qrcode",{path:"https://lib.baomitu.com/jquery.qrcode/1.0/jquery.qrcode.min.js",type:"js"}),Do.add("highlightCss",{path:"https://lib.baomitu.com/highlight.js/9.18.5/styles/dracula.min.css",type:"css"}),Do.add("highlight",{path:"https://lib.baomitu.com/highlight.js/9.18.5/highlight.min.js",type:"js",requires:["highlightCss"]}),Do.add("tinymceSrc",{path:commonPath+"tinymce/tinymce.min.js"}),Do.add("tinymce",{path:commonPath+"tinymce/jquery.tinymce.min.js",requires:["tinymceSrc"]}),Do.add("cookie",{path:"https://lib.baomitu.com/cookie.js/1.2.3/cookie.min.js",type:"js"}),Do.add("tooltipHas",{path:commonPath+"tippy/popper.min.js",type:"js"}),Do.add("tooltipCss",{path:commonPath+"tippy/tippy.css",type:"css"}),Do.add("tooltip",{path:commonPath+"tippy/tippy.min.js",type:"js",requires:["tooltipHas","tooltipCss"]}),Do.add("tree",{path:"https://lib.baomitu.com/jstree/3.3.11/jstree.min.js",type:"js"})}(window,document),function(e){"use strict";let t,n=[],a=e.document,i=e.MutationObserver||e.WebKitMutationObserver;function l(){for(let e=0;e<n.length;e++){let t=n[e],i=a.querySelectorAll(t.selector);for(let e=0;e<i.length;e++){let n=i[e];n.ready||(n.ready=!0,t.fn.call(n,n))}}}e.jsReady=function(e,o){n.push({selector:e,fn:o}),t||(t=new i(l),t.observe(a.documentElement,{childList:!0,subtree:!0})),l()}}(this),function(e,t){t.init=function(){jsReady("[data-js]",(function(e){t.bind(e)})),null!=window.jsInitAfter&&""!=window.jsInitAfter&&window.jsInitAfter(),window.initStats=1},t.bind=function(t){let n=e(t).data(),a=n.js;if(!a)return!1;let i=a.split("-");if(!window[i[0]])return app.debug(i[0]+"组件不存在"),!1;let l=i.slice(1);if(l=l.join("-"),l=l.replace(/^\-/,"").replace(/\-(\w)(\w+)/g,(function(e,t,n){return t.toUpperCase()+n.toLowerCase()})),"function"!=typeof window[i[0]][l])return app.debug(i[0]+"组件中不存在"+l+"方法!"),!1;window[i[0]][l](t,n)},t.callback=function(e,...t){if(e)return"function"==typeof e?e(...t):"string"==typeof e&&e?window[e](...t):void 0}}(jQuery,window.base={}),function(e,t){t.debug=function(t){"undefined"!=typeof console&&(e.isArray(t)||e.isPlainObject(t)?console.table(t):console.log(t))},t.ajax=async function(t){return t=e.extend({url:"",type:"GET",notify:!0,data:{},params:{},axios:{}},t),new Promise((function(n,a){Do("axios",(function(){let i=document.head.querySelector('meta[name="csrf-token"]');window.axios.defaults.headers.common["X-CSRF-TOKEN"]=i.content;let l={url:t.url,method:t.type,data:t.data,params:t.params};l=e.extend(l,t.axios),"post"===t.method&&(l.headers={"Content-Type":"multipart/form-data"}),axios(l).then((e=>{let a=e.headers["x-location"],i=e.data.message||"系统暂无响应内容",l=e.data.data;n({message:i,result:l,url:a,response:e.data}),t.notify&&app.success(i,a)})).catch((e=>{let n=e.response.headers["x-location"],i=e.response.data,l=e.response.error,o=e.response.status,s=e.response.code,d=i.message;"error"===o&&(d=l[Object.keys(l)[0][0]]),d=d||"业务繁忙，请稍后再试",401===s&&n&&dialog.alert({content:d,callback:function(){window.location.href=n}}),t.notify&&app.error(d,n),a({code:s,message:d,url:n,response:i})}))}))}))},t.success=function(e,t){notify.success(e),t&&setTimeout((function(){window.location.href=t}),1e3)},t.error=function(e,t){t?dialog.alert({content:e,callback:function(){window.location.href=t}}):notify.error(e)},t.date=function(e,t=(new Date).getTime()/1e3|0){t*=1e3;let n=new Date(t);function a(e){return("00"+e).substr(e.length)}/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));let i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(let t in i)if(new RegExp(`(${t})`).test(e)){let n=i[t]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?n:a(n))}return e},t.serializeObject=function(t){let n={},a=t.serializeArray();return e.each(a,(function(){void 0!==n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""})),n},t.buildUrl=function(e,t){let n=[];for(let e in t)n.push(e+"="+t[e]);let a=n.join("&");return-1!==e.indexOf("?")?e+="&"+a:e+="?"+a,e}}(jQuery,window.app={}),function(e,t){t.loading=function(t){let n=e.extend({msg:"加载中，请稍等..."},{msg:t}),a=e("#app-loading");if(a.length)return a.find(".loading-msg").html(n.msg),!0;let i=e(`<div id="app-loading" class="fixed z-50 inset-0 overflow-y-auto ease-in-out duration-300 opacity-0 pointer-events-none" style="display: none"><div class="flex items-center justify-center min-h-screen text-center">\n                    <div class="bg-black bg-opacity-60 rounded px-4 py-1 flex gap-2 items-center">\n                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                    </svg>\n                    <div class="text-white">${n.msg}</div>\n                    </div></div></div>`);e("body").append(i),i.show().addClass("opacity-100")},t.loading.close=function(){e("#app-loading").removeClass("opacity-100"),setTimeout((()=>{e("#app-loading").remove()}),200)},t.msg=function(n,a){n=n||"加载中",a=a||3;let i=e("#app-msg");i.length&&i.remove(),t.loading.close();let l=e('<div id="app-msg" class="app-msg"><div class="msg-body"><div class="text">'+n+"</div></div></div>");e("body").append(l),setTimeout((function(){l.remove()}),1e3*a)},t.info=function(e,n,a){t.toast("info","center",e,n||3,a)},t.success=function(e,n,a){t.toast("success","center",e,n||3,a)},t.error=function(e,n,a){t.toast("error","center",e,n||3,a)},t.toast=function(t,n,a,i,l){let o,s,d,r;switch(n=n||"center",i=i||0,a=a||"消息提醒",t=t||"info"){case"success":o="notify-success",s='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';break;case"error":o="notify-error",s='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>';break;case"info":default:o="notify-info",s='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'}switch(n){case"left":r="app-notify-left",d="notify-left";break;case"right":r="app-notify-right",d="notify-right";break;case"center":default:r="app-notify-center",d="notify-center"}let c,p=`<div id="${r}" class="notify ${o} ${d}"></div>`,u=e(`<div class="notify-item duration-300 ease-in-out opacity-0" style="display:none;">\n            <div class="flex-none">\n                ${s}\n            </div>\n            <div class="flex-grow">\n                <div>${a}</div>\n            </div>\n        `);c=e("body").find("#"+r).length?e("body").find("#"+r):e(p),e("body").append(c),c.append(u),u.show().addClass("opacity-100"),u.on("close",(function(){u.removeClass("opacity-100"),setTimeout((()=>{u.remove(),c.find(".notify-item").length||c.remove(),base.callback(l)}),300)})),i&&setTimeout((function(){u.trigger("close")}),1e3*i)}}(jQuery,window.notify={}),function(e,t){t.prompt=function(n){let a=`<div><div class="p-4">\n                        <div class="">${(n=e.extend({title:"请输入内容",content:"",callback:null},n)).title}</div>\n                        <div class="mt-2 ">\n                            <input type="text" class="form-input" value="${n.content}">\n                        </div>\n                      </div>\n                        <div class="flex justify-end space-x-2 bg-gray-50 px-4 py-3">\n                            <button type="button" class="btn" modal-close>\n                              取消\n                            </button>\n                            <button type="button" class="btn-blue" modal-confirm>\n                              确定\n                            </button>\n                        </div>\n                        </div>\n                    `;t.modal(a,"max-w-lg",(function(e){e.find('input[type="text"]').focus(),e.on("click","[modal-confirm]",(function(){let t=e.find('input[type="text"]').val();base.callback(n.callback,t),e.trigger("close")}))}))},t.alert=function(n){let a=`\n                <div>\n                    <div class="flex items-start p-4">\n                        <div class=" flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-200 mx-0 h-10 w-10">\n                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-900" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />\n                            </svg>\n                        </div>\n                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">\n                          <div class="text-lg leading-6 font-medium text-gray-900" id="modal-title">\n                            ${(n=e.extend({title:"提示",content:"",callback:null,type:"success"},n)).title}\n                          </div>\n                          <div class="mt-2">\n                            <p class="text-sm text-gray-500">\n                              ${n.content}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="flex justify-end space-x-2 bg-gray-50 px-4 py-3">\n                            <button type="button" class="btn-blue">\n                              确定\n                            </button>\n                        </div>\n                </div>\n        `;t.modal(a,"max-w-lg").on("click","button",(function(){base.callback(n.callback)}))},t.confirm=function(n){let a=`\n                <div>\n                    <div class="flex items-start p-6 ">\n                        <div class=" flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-200 mx-0 h-10 w-10">\n                          <svg class="h-6 w-6 text-yellow-900"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\n                        </svg>\n                        </div>\n                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">\n                          <div class="text-lg leading-6 font-medium text-gray-900" id="modal-title">\n                            ${(n=e.extend({title:"确认操作",content:"",success:null,cancel:null},n)).title}\n                          </div>\n                          <div class="mt-2">\n                            <p class="text-sm text-gray-500">\n                              ${n.content}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="flex justify-end space-x-2 px-5 pb-5">\n                            <button type="button" class="btn" modal-close>\n                              取消\n                            </button>\n                            <button type="button" class="btn-blue" modal-confirm>\n                              确定\n                            </button>\n                        </div>\n                </div>\n        `,i=t.modal(a,"max-w-lg");i.on("click","[modal-close]",(function(){base.callback(n.cancel)})),i.on("click","[modal-confirm]",(function(){base.callback(n.success),i.trigger("close")}))},t.ajax=function(n,a){a=e.extend({},a);let i=function(){t.confirm({content:a.title,success:function(){app.ajax({url:a.url,type:a.type||"get",data:a.params,notify:!1}).then((e=>{e.response instanceof Object?window.location.reload():notify.error(e.message,3)})).catch((e=>{notify.msg(e.message)}))}})};n?e(n).on("click",(function(){i()})):i()},t.open=function(n,a){a=e.extend({title:"",url:"",size:"default",height:"400px",type:"ajax",expend:{},layout:!0,callback:null,hideCallback:null},a);let i=function(n){if(a.layout)t.layout({title:a.title,size:a.size,html:n,expend:a.expend,callback:a.callback,hideCallback:a.hideCallback});else{let i="max-w-xl";"small"==a.size&&(i="max-w-lg"),"medium"==a.size&&(i="max-w-2xl"),"large"==a.size&&(i="max-w-4xl"),t.modal(e(n),i,a.callback,a.hideCallback,a.expend)}},l=function(){"iframe"==a.type&&i('<iframe src="'+a.url+'" width="100%" height="'+a.height+'" frameborder="0"></iframe>'),"ajax"==a.type&&(notify.loading("加载中，请稍等..."),app.ajax({url:a.url,notify:!1}).then((e=>{notify.loading.close(),i(e.response)})).catch((e=>{app.error(e.message)})))};n?e(n).on("click",(function(){l()})):l()},t.layout=function(n){let a="max-w-xl";"small"==(n=e.extend({title:"",size:"default",html:"",callback:null,hideCallback:null,expend:{}},n)).size&&(a="max-w-lg"),"medium"==n.size&&(a="max-w-2xl"),"large"==n.size&&(a="max-w-4xl");let i=`<div>\n                <div class="flex items-center p-4 border-b border-gray-300">\n                    <div class="flex-grow text-xl">${n.title}</div>\n                    <div class="cursor-pointer btn-close h-6 w-6 text-gray-600 hover:text-red-900" modal-close>\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        `,l=e(i);l.append(n.html),t.modal(l,a,n.callback,n.hideCallback,n.expend)},t.modal=function(t,n,a,i,l){let o=e(`<div modal class="fixed z-50 inset-0 overflow-y-auto ease-in-out duration-300 opacity-0" tabindex="-1" style="display: none">\n                <div class="flex items-start lg:items-center justify-center min-h-screen text-center  bg-black bg-opacity-50 ">\n                    <div class="inline-block align-bottom bg-white border  rounded-lg text-left overflow-hidden shadow-xl align-middle m-3 w-full ${n}">\n                        <div class="modal-content">\n\n                        </div>\n                    </div>\n                </div>\n            </div>`);return o.find(".modal-content").append(t),o.data("expend",l),o.on("close",(function(){e("body").removeClass("overflow-hidden"),o.removeClass("opacity-100"),setTimeout((()=>{o.remove(),base.callback(i,o)}),200)})),o.on("click","[modal-close]",(function(){o.trigger("close")})),e("body").append(o),o.show().addClass("opacity-100"),e("body").hasClass("overflow-hidden")||e("body").addClass("overflow-hidden"),function(e){if(!e)return;let t=e.match(/<script(.|\n)*?>(.|\n|\r\n)*?<\/script>/gi);if(t){let e=/<script(.|\n)*?>((.|\n|\r\n)*)?<\/script>/im,n=t.length;for(let a=0;a<n;a++){let n=t[a].match(e);n[2]&&window.eval(n[2])}}}(e(t).html()),base.callback(a,o),window.modal||(window.modal=[],e(document).keyup((function(e){if(27==(e.which||e.keyCode)){window.modal.pop().trigger("close")}}))),window.modal.push(o),o}}(jQuery,window.dialog={}),function(e,t){t.bind=function(t,n){let a=e(t).find("[data-table]"),i=e(t).find("[data-filter]"),l=e(t).find("[data-batch]");n=e.extend({},n),e(t).on("change","[data-check-all]",(function(){e(this).is(":checked")?(a.find("input[data-check-all]").prop("checked",!0),a.find("input[type=checkbox]").prop("checked",!0)):(a.find("input[data-check-all]").prop("checked",!1),a.find("input[type=checkbox]").prop("checked",!1))}));let o=!1,s=0,d={first:"首页",prev:"上一页",next:"下一页",last:"尾页",totalPages:1,visiblePages:5},r=e(t).find("[data-pagination]"),c=()=>{let t=1,l=app.serializeObject(i);l=e.extend({},l,{page:s}),a.html(page.load()),app.ajax({url:n.ajax,params:l,type:"get",notify:!1}).then((n=>{setTimeout((()=>{t=r.twbsPagination("getCurrentPage"),r.twbsPagination("destroy"),r.twbsPagination(e.extend({},d,{startPage:t,totalPages:n.result.totalPage})).on("page",(function(e,t){s=t,c()})),o=!0,a.html(n.result.html)}),500)})).catch((e=>{a.html(page.empty()),a.html("<tbody><tr><td>"+page.empty()+"</td></tr></tbody>")}))};n.ajax&&Do("page",(()=>{r.twbsPagination(e.extend({},d,{startPage:1,totalPages:1})),c(),i.on("submit",(function(){return s=1,c(),!1}))}));let p=function(){let t=[];return a.find("[data-check]:checked").each((function(){let n=e(this).val();n&&t.push(n)})),t.length?t:(app.error("请选择操作条目"),!1)};l.on("click","[data-link]",(function(t){t.stopPropagation();let n=p();return!!n&&(dialog.ajax("",{title:e(this).data("title"),url:e(this).attr("href"),params:n}),!1)})),l.on("submit","form",(function(){let t=e(this).find("select").val();if(""===t)return app.error("请选择操作类型"),!1;let n=p();if(!n)return!1;let a={type:t,ids:n};return l.find("button").attr("disabled",!0),app.ajax({url:l.attr("action"),data:a,type:"post",notify:!1}).then((function(e){l.find("button").attr("disabled",!1),dialog.alert({content:e.message,callback:()=>{window.location.reload()}})})).catch((function(e){l.find("button").attr("disabled",!1),app.error(e.message,e.url)})),!1})),n.sortable&&Do("sortable",(function(){for(var a=[].slice.call(t.querySelectorAll(".sortable-group")),i=0;i<a.length;i++)new Sortable(a[i],{group:"nested",swap:!1,dragClass:"bg-white",handle:".drag",fallbackOnBody:!0,emptyInsertThreshold:2,swapThreshold:.65,onEnd:function(t){let a=t.to;a.dispatchEvent(new Event("notify"));let i=e(t.item).data("tr"),l=e(a).data("parent"),o=t.newIndex-1,s=o>-1?e(a).find(" > [data-tr]").eq(o).data("tr"):0,d=t.newIndex+1,r=e(a).find(" > [data-tr]").eq(d).data("tr");app.ajax({url:n.sortable,type:"post",notify:!1,data:{id:i,parent:l,before:s,after:r}})}})}))},t.select=function(n){n=e.extend({title:"选择内容",column:[],url:"",callback:null},n);let a;!function(){a=e('<div class="p-6">\n                <div class="mb-3">\n                    <div class="flex items-center space-x-2">\n                        <div>\n                            <input class="form-input" type="text" data-keyword name="keyword" value="" placeholder="请输入关键词搜索">\n                        </div>\n                        <div>\n                            <button class="btn btn-primary" data-search>搜索</button>\n                        </div>\n                    </div>\n                </div>\n                <div table></div>\n                </div>\n                <div class="flex justify-end p-4 space-x-2">\n                    <button type="button" class="btn" modal-close>取消</button>\n                    <button type="button" class="btn-blue" data-submit modal-close>添加</button>\n                </div>\n            ');let i=t.ajax({column:n.column,url:n.url,query:function(){return a.find("[data-keyword]").val()},select:!0});a.find("[table]").html(i),dialog.layout({title:n.title,size:"large",html:a,callback:()=>{a.on("click","[data-search]",(function(){i.trigger("refresh")})),a.on("click","[data-submit]",(function(){i.trigger("select",(function(e){base.callback(n.callback,e)}))})),i.trigger("refresh")}})}()},t.ajax=function(t){let n,a=(t=e.extend({column:[],select:!1,url:null,query:null,params:{},type:"table",map:{},callback:null},t)).column;a&&"string"==typeof a&&(a=JSON.parse(a)),"table"===t.type&&(n=`<div><table class="table-box border border-gray-300  rounded">\n                <thead>\n                    <tr>\n                        ${a.map((e=>`<th width="${e.width||""}">${e.name}</th>`)).join("")}\n                        ${t.select?'<th width="50"><input data-all type="checkbox" class="form-checkbox"></th>':""}\n                    </tr>\n                </thead>\n                <tbody data-list>\n                    <tr>\n                        <td colspan="${t.select?a.length+1:a.length}">${page.load()}</td>\n                    </tr>\n                </tbody>\n                </table>\n                <ul pagination class="pagination mt-5 justify-center"></ul></div>`),"list"===t.type&&(n='<div><div class="flex flex-col divide-y divide-gray-300 rounded border border-gray-300" data-list>\n\n            </div>\n             <ul pagination class="pagination mt-5 justify-center"></ul></div>\n            </div>');let i=e(n),l=e=>{if("table"===t.type){let n=e.map(((e,n)=>`<tr>${a.map((t=>{let n="",a=t.value||e[t.key];return"image"===t.type?n+=a?`<td><span class="avatar me-2 w-10 h-10 rounded" style="background-image: url(${a});"></span></td>`:'<td><span class="avatar w-10 h-10 border border-gray-300 flex items-center justify-center text-gray-500 rounded">暂无</span></td>':n+=`<td>${t.url?`<a class="text-blue-900 hover:underline" href="${e[t.url]}">${a}</a>`:a}</td>`,n})).join("")}\n                        ${t.select?`<td width="50"><input type="checkbox" class="form-checkbox" value="${n}"></td>`:""}\n                        </tr>`)).join("");n||(n=`<tr><td colspan="${a.length+1}">${page.data("未找到数据","暂未找到可选数据，请添加数据后进行")}</td></tr>`),i.find("[data-list]").html(n),i.find("[data-all]").prop("checked",!1)}if("list"===t.type){let n=e.map(((e,n)=>{let a=t.map.image?e[t.map.image]:e.image||null,i=t.map.title?e[t.map.title]:e.title||null,l=t.map.desc?e[t.map.desc]:e.desc||null;return`<label class="flex p-4 items-center space-x-2 cursor-pointer hover:bg-blue-200 hover:bg-opacity-30" data-url="${t.map.url?e[t.map.url]:e.url||null}">\n                        ${a?`<div class="flex-none">\n                            <div class="avatar w-10 h-10 border border-gray-300 flex items-center justify-center text-gray-500 rounded" style="background-image: url(${a});"></div>\n                        </div>`:""}\n                        <div class="flex-grow">\n                            <div>${i}</div>\n                            ${l?`<div class="text-gray-500">${l}</div>`:""}\n                        </div>\n                        <div class="flex-none">\n                            ${t.select?`<input type="checkbox" class="form-checkbox" value="${n}"></td>`:'<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />\n                            </svg>'}\n                        </div>\n                    </label>`})).join("");n||(n=page.data("未找到数据","暂未找到可选数据，请添加数据后进行")),i.find("[data-list]").html(n)}};"table"===t.type&&(i.on("change","[data-all]",(function(){e(this).prop("checked")?(i.find("[data-list]").find('input[type="checkbox"]').prop("checked",!0),i.find("[data-submit]").prop("disabled",!1)):(i.find("tbody").find('input[type="checkbox"]').prop("checked",!1),i.find("[data-submit]").prop("disabled",!0))})),i.on("change",'tbody input[type="checkbox"]',(function(){let e=i.find("[data-list]").find('input[type="checkbox"]').length,t=i.find("[data-list]").find('input[type="checkbox"]:checked').length;t===e?i.find("[data-all]").prop("checked",!0):i.find("[data-all]").prop("checked",!1),t?i.find("[data-submit]").prop("disabled",!1):i.find("[data-submit]").prop("disabled",!0)}))),"list"===t.type&&(t.select||i.find("[data-list]").on("click","label",(function(){t.callback?base.callback(t.callback,this):window.location.href=e(this).data("url")})));let o,s=1,d=!1,r={first:"首页",prev:"上一页",next:"下一页",last:"尾页",totalPages:1,visiblePages:5},c=()=>{"table"===t.type&&i.find("[data-list]").html(`<tr><td colspan="${a.length+1}">${page.load()}</td> </tr>`),"list"===t.type&&i.find("[data-list]").html(`${page.load()}`);let n={page:s,query:"function"==typeof t.query?base.callback(t.query):t.query};n=e.extend(n,t.params),app.ajax({url:"function"==typeof t.url?base.callback(t.url):t.url,params:n,notify:!1}).then((t=>{let n=1;d&&(n=i.find("[pagination]").twbsPagination("getCurrentPage"),i.find("[pagination]").twbsPagination("destroy")),d=!0,i.find("[pagination]").twbsPagination(e.extend({},r,{startPage:n,totalPages:t.result.page})).on("page",(function(e,t){s=t,c()})),o=t.result.data,setTimeout((function(){l(t.result.data)}),300)})).catch((e=>{l([])}))};return i.on("refresh",(function(){s=1,Do("page",(()=>{c()}))})),i.on("config",(function(n,a){t=e.extend(t,a)})),i.on("select",(function(n,a){let l=[];return i.find("[data-list]").find('input[type="checkbox"]:checked').each((function(){let t=parseInt(e(this).val());l.push(o[t])})),a=t.callback||a,base.callback(a,l)})),i}}(jQuery,window.table={}),function(e,t){t.bind=function(t,n){n=e.extend({notify:!0,successNotify:!0,errorNotify:!0,jump:!0,success:null,error:null,window:!1},n),e("form").on("submit",(function(a){if(a.preventDefault(),a.stopPropagation(),e(t).find("button").attr("disabled",!0),!1===e(this)[0].checkValidity())return e(this).addClass("was-validated"),e(t).find("button").attr("disabled",!1),!1;e(this).removeClass("was-validated");let i=new FormData(this),l=e=>{n.window?window.open(e):window.location.href=e};app.ajax({url:e(this).attr("action"),type:e(this).attr("method"),data:i,notify:!1}).then((a=>{e(t).find("button").attr("disabled",!1),a.response instanceof Object?(n.notify&&(n.successNotify?(notify.success(a.message,3),a.url&&n.jump&&setTimeout((function(){l(a.url)}),2e3)):a.url&&n.jump?l(a.url):window.location.reload()),n.success&&base.callback(n.success,a.message,a.result,a.url)):notify.error(a.message,3)})).catch((a=>{if(e(t).find("button").attr("disabled",!1),n.notify&&(n.errorNotify?(notify.error(a.message,3),a.url&&n.jump&&setTimeout((function(){l(a.url)}),2e3)):a.url&&n.jump?l(a.url):window.location.reload()),n.error)return base.callback(n.error,a.msg,a.url,a.code,a.response),!1}))}))},t.switch=function(t,n){n=e.extend({params:{},field:"",url:""},n),e(t).on("change",(function(){let a=0;e(t).prop("checked")&&(a=1),e(t).attr("disabled",!0),n.params.status=a,n.params.field=n.field,app.ajax({url:n.url,type:"post",data:n.params,notify:!1}).then((n=>{e(t).attr("disabled",!1)})).catch((n=>{e(t).attr("disabled",!1),app.error(n.message)}))}))},t.input=function(t,n){n=e.extend({params:{},field:"",url:""},n),e(t).on("blur",(function(){let a=e(this).val();e(t).attr("disabled",!0),n.params.value=a,n.params.field=n.field,app.ajax({url:n.url,type:"post",data:n.params,notify:!1}).then((n=>{notify.success(n.message),e(t).attr("disabled",!1)})).catch((n=>{app.error(n.message),e(t).attr("disabled",!1)}))}))},t.select=function(t,n){n=e.extend({search:"",linkage:""},n),Do("select",(function(){let a={language:"zh-CN",width:"100%",tags:n.tags,allowClear:n.clear,minimumResultsForSearch:-1};n.search&&(a.minimumResultsForSearch=0,a.ajax={url:n.search,dataType:"json",delay:250,data:function(a){return{query:a.term,limit:20,parent:e(t).data("parent"),level:e(t).data("level"),type:n.level||n.linkage?"linkage":"search",page:a.page||1}},processResults:function(e,t){let n=e.data;return t.page=t.page||1,{results:n.data,pagination:{more:20*t.page<n.total}}},cache:!1},a.escapeMarkup=function(e){return e},a.templateResult=function(t){if(!t.id)return t.name;var n="<div class='flex items-center'>";return t.image&&(n+=`<div class="avatar avatar-sm mr-2" style='background-image: url("${t.image}")'></div>`),n+="<div class='flex-grow'><div class=''>"+t.name+"</div>",t.desc&&(n+="<div class='text-muted'>"+t.desc+"</div>"),e(n+="</div></div>")},a.templateSelection=function(e){return""===e.id?n.placeholder:e.name||e.text});let i=e(t).select2(a);n.search&&n.value&&(a.minimumResultsForSearch=0,app.ajax({url:n.search,params:{id:n.value,level:e(t).data("level"),type:n.level||n.linkage?"linkage":"search"},notify:!1}).then((e=>{e.result.data.map((e=>{let t=new Option(e.name,e.id||e.name,!0,!0);i.append(t)})),i.trigger("init")})).catch((e=>{app.error(e.message)}))),n.linkage&&(e(t).on("change",(function(){let a=e('select[name="'+n.linkage+'"]');a.data("parent",e(t).val()),a.empty(),a.trigger("change")})),e(t).on("init",(function(){e('select[name="'+n.linkage+'"]').data("parent",e(t).val())})))}))},t.password=function(t,n){n=e.extend({},n),Do("password",(function(){e(t).password({eyeClass:"fa",eyeOpenClass:"fa-eye",eyeCloseClass:"fa-eye-slash"})}))},t.mask=function(t,n){n=e.extend({},n),Do("inputmask",(function(){e(t).inputmask({autoUnmask:!0})}))},t.date=function(t,n){Do("date",(function(){let a={locale:"zh",dateFormat:"Y-m-d"};"time"==(n=e.extend({type:"date"},n)).type&&(a.dateFormat="H:i:S",a.enableTime=!0,a.enableSeconds=!0,a.noCalendar=!0,a.time_24hr=!0),"datetime"==n.type&&(a.dateFormat="Y-m-d H:i:S",a.enableTime=!0,a.enableSeconds=!0,a.time_24hr=!0),"range"==n.type&&(a.mode="range"),e(t).flatpickr(a)}))},t.file=function(t,n){let a={mode:"manage",target:"",loading:!0,callback:function(a){(n.target?e(n.target):e(t).parent().find('input[type="hidden"]')).val(a[0].url)}};"upload"==(n=e.extend(a,n)).mode&&file.upload(t,n),"manage"==n.mode&&e(t).off("click").on("click",(function(){n.multiple=!1,n.type="all",file.manage(n)}))},t.image=function(t,n){let a={mode:"manage",callback:function(n){e(t).find("img").attr("src",n[0].url),e(t).css("background-image",`url('${n[0].url}')`),e(t).find('input[type="hidden"]').val(n[0].url),e(t).find('input[type="hidden"]').change()}};"upload"==(n=e.extend(a,n)).mode&&(n.loading=!1,file.upload(t,n)),"manage"==n.mode&&e(t).on("click",(function(){n.multiple=!1,n.type="image",file.manage(n)})),e(t).on("click","[data-url]",(function(n){n.stopPropagation(),dialog.prompt({title:"请输入图片链接",callback:function(n){e(t).find("img").attr("src",n),e(t).css("background-image",`url('${n}')`),e(t).find('input[type="hidden"]').val(n),e(t).find('input[type="hidden"]').change()}})}))},t.images=function(t,n){(n=e.extend({mode:"manage"},n)).callback=function(a){let i="";e(a).each(((e,t)=>{i+=`<div class="relative w-32 h-32 border-2 border-gray-400 border-dashed rounded bg-cover bg-center bg-no-repeat block hover:border-blue-900" style="background-size:90%; background-image:url('${t.url}')" data-item>\n                            <div class="opacity-0 hover:opacity-100 absolute flex items-center justify-center w-full h-full bg-blue-200 bg-opacity-90 rounded cursor-pointer">\n                                <button type="button" class="btn-red" data-del>删除</button>\n                            </div>\n                            <input type="hidden" name="${n.name}[]" value="${t.url}">\n                        </div>`})),e(t).find("[data-plus]").before(i)},e(t).on("click","[data-del]",(function(){e(this).parents("[data-item]").remove()})),"upload"==n.mode&&(n.loading=!1,file.upload(e(t).find("[data-plus]"),n)),"manage"==n.mode&&e(t).on("click","[data-plus]",(function(){n.multiple=!0,n.type="image",file.manage(n)})),Do("sortable",(function(){new Sortable(t,{swap:!0,swapClass:"highlight",animation:150})}))},t.editor=function(t,n){let a={uploadUrl:`/${window.appManage}/upload`,attrUrl:`/${window.appManage}/fileManage`};n=e.extend(a,n);let l={skin:"dux",content_css:"dux",height:650,language:"zh_CN",plugins:"print preview searchreplace autolink directionality visualblocks visualchars image link media template code codesample table charmap hr pagebreak nonbreaking insertdatetime advlist lists wordcount imagetools textpattern help emoticons",toolbar:[" code preview print | formatselect fontsizeselect lineheight | forecolor backcolor bold italic underline strikethrough  subscript superscript  removeformat | ","alignleft aligncenter alignright alignjustify outdent indent | bullist numlist | pagebreak hr link table  |  image media  filemanage  codesample charmap emoticons"],menubar:!1,min_height:500,fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",relative_urls:!1,setup:function(a){a.ui.registry.getAll().icons.filemanage||a.ui.registry.addIcon("filemanage",'<svg t="1620982539724" class="icon" viewBox="0 0 1204 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2147" width="22" height="22"><path d="M0.002 541.857c0-124.482 85.64-233.86 200.042-266.246C263.379 115.14 420.248 0 603.747 0c184.938 0 337.488 115.143 400.801 275.61 118.024 33.104 200.053 141.048 200.053 266.248 0 153.998-124.495 279.245-282.07 279.245-29.503 0-56.136-26.62-56.136-56.112 0-33.832 26.62-56.136 56.137-56.136 94.979 0 170.573-74.11 170.573-166.939 0-49.653-22.351-95.71-59.007-125.211l-10.07-9.41c-2.882-3.6-7.2-6.47-12.94-10.07-2.894-3.613-9.41-3.613-12.94-6.483h-3.6c-2.882-3.6-6.482-3.6-9.41-6.47h-3.6c-2.883 0-6.482-3.61-10.082-3.61-2.882 0-6.47 0-6.47-2.87h-9.41c-3.6 0-6.47 0-10.082-3.6h-26.562c-2.882-10.788-6.482-18.705-6.482-29.504-2.87 0-2.87-3.588-2.87-6.47-3.588-6.482-3.588-12.94-6.47-19.434 0-3.6-3.612-3.6-3.612-7.188-2.87-6.47-6.47-12.94-10.058-19.421v-6.482c-2.894-6.47-9.41-12.94-12.94-19.434-55.396-92.156-157.609-154.716-272.764-154.716-118.012 0-220.181 62.56-275.587 154.716l-9.41 19.434c0 2.164-1.448 2.164-2.154 4.317l-1.447 2.165-10.081 19.42v7.2l-9.34 19.435v6.446c-3.612 10.8-7.2 18.716-7.2 29.503H259.05c-2.87 3.6-6.47 3.6-9.34 3.6h-6.494c-2.87 2.164-4.306 2.87-5.035 2.87a1.341 1.341 0 0 1-2.153 0c-2.87 0-6.482 3.61-9.41 3.61h-6.47c-3.611 2.883-6.482 2.883-10.082 6.47h-3.587c-2.87 2.87-6.482 2.87-9.411 6.483h-3.6c-2.87 3.6-6.46 6.47-10.07 10.07-6.47 2.87-9.34 6.482-12.94 9.41-36.69 29.504-55.396 75.56-55.396 125.212 0 92.828 75.559 166.94 166.94 166.94 33.83 0 59.018 22.35 59.018 56.136 0 29.503-25.187 56.112-59.02 56.112C128.098 821.103 0.002 695.856 0.002 541.857zM377.792 728.9c0-16.552 6.47-28.786 12.94-39.573L561.293 502.31c10.8-10.788 25.88-16.552 42.467-16.552s29.504 5.764 43.173 16.552l166.938 187.04a54.972 54.972 0 0 1 16.551 39.573c0 29.503-25.186 55.42-59.006 55.42-16.55 0-28.786-8.636-39.585-19.423l-71.947-78.453v282.105c0 33.82-25.185 55.419-56.136 55.419-32.373 0-55.419-21.586-55.419-55.42V686.504l-71.9 78.44c-10.785 10.788-26.62 19.422-43.16 19.422-29.561 0-55.477-25.915-55.477-55.407z" p-id="2148"></path></svg>'),a.ui.registry.addButton("filemanage",{icon:"filemanage",tooltip:"文件管理器",onAction:function(){file.manage({url:n.attrUrl,uploadUrl:n.uploadUrl,multiple:!0,callback:function(e){e.map((e=>{let t;switch(e.ext){case"png":case"jpg":case"jpeg":case"bmp":case"gif":t="<div><img src='"+e.url+"' alt='"+e.title+"' /></div>";break;case"mp4":case"ogm":case"ogv":case"webm":t="<div><video controls src='"+e.url+"'></video></div>";break;case"mp3":case"ogg":case"wav":case"acc":t="<div><audio controls src='"+e.url+"'></audio></div>";break;default:t="<div><a href='"+e.url+"' target='_blank'>"+e.title+"</a></div>"}a.insertContent(t)}))}})}}),a.on("change",(function(){a.save(),e(t).change()}))},toolbar_mode:"wrap",images_upload_handler:function(e,t,a){var i,l;(i=new XMLHttpRequest).withCredentials=!1,i.open("POST",n.uploadUrl),i.onload=function(){let e;200===i.status?(e=JSON.parse(i.responseText),e&&e.data.length?e.data.map((e=>{t(e.url)})):a("Invalid JSON: "+i.responseText)):a("HTTP Error: "+i.status)},(l=new FormData).append("file",e.blob(),e.filename());let o=document.head.querySelector('meta[name="csrf-token"]');i.setRequestHeader("Accept","application/json"),i.setRequestHeader("X-CSRF-TOKEN",o.content),i.send(l)},file_picker_callback:function(e,t,a){var i="all";"media"==a.filetype&&(i="video,audio"),"image"==a.filetype&&(i="image"),file.manage({url:n.attrUrl,uploadUrl:n.uploadUrl,multiple:!1,type:i,callback:function(t){t.map((t=>{e(t.url)}))}})},file_picker_types:"file image media",init_instance_callback:function(t){t.on("paste",(n=>{let a=[];const l=t.getDoc(),o=e(l).find("img");if(o.length&&o.each((function(){var t=e(this).attr("_src")||e(this).attr("src")||"";/^(https?|ftp):/gim.test(t)&&!function(e){const t=[];if(-1!==e.indexOf(location.host)||-1!==e.indexOf(document.domain)||/(^\.)|(^\/)/.test(e))return!0;if(t)for(let n in t)if(t.hasOwnProperty(n)&&-1!==e.indexOf(t[n]))return!0;return!1}(t)&&a.push(t)})),a.length){var s=t.notificationManager.open({text:`发现${a.length}张远程图片，是否保存？ <a data-save href="javascript:;" class="cursor-pointer">[保存]</a>`,closeButton:!0,type:"warning"});e(s.getEl()).on("click","[data-save]",(function(){top.tinymce.activeEditor.notificationManager.close(),t.notificationManager.open({text:"保存远程图片中...",closeButton:!1,type:"info"}),app.ajax({type:"post",url:`/${window.appManage}/uploadRemote`,data:{files:a},notify:!1}).then((n=>{top.tinymce.activeEditor.notificationManager.close();let l=n.result,o=t.getContent();for(i in l)o=o.replace(e("<div/>").text(a[i]).html(),l[i]),o=o.replace(a[i],l[i]);t.setContent(o),t.notificationManager.open({text:"图片保存成功并替换内容",type:"success",timeout:2e3})})).catch((e=>{top.tinymce.activeEditor.notificationManager.close(),t.notificationManager.open({text:e.message,type:"info",timeout:2e3})}))}))}}))}};Do("tinymce",(function(){e(t).tinymce(l)}))},t.change=function(t,n){n=e.extend({},n);let a=function(){let t=e(this).val(),n=e(this).data("group"),a=e(this).prop("checked");"checkbox"===e(this).attr("type")?a?e("[group-"+n+"="+t+"]").attr("hidden",!1):e("[group-"+n+"="+t+"]").attr("hidden",!0):(e("[group-"+n+"]").attr("hidden",!0),e("[group-"+n+"="+t+"]").attr("hidden",!1))};e(t).on("change",(function(){a.call(this)}));obj=e('[data-js="form-change"]:checked'),obj.each((function(){a.call(this)}))},t.cascader=function(t,n){n=e.extend({data:[],multiple:!1,placeholder:"请选择数据",url:null,checked:[],separator:" / ",clearable:!0},n),e(t).attr("multiple")&&(n.multiple=!0),e(t).find("option").each((function(){let t=parseInt(e(this).val());if(!t)return;let a=parseInt(e(this).data("pid"))||0;e(this).prop("selected")&&n.checked.push(t),n.data.push({id:t,pid:a,name:e(this).text()})}));let a=e(`<div class="select-none" x-data="{open: false}" @set-close="open = false">\n            <div class="form-select items-center" style="display: flex!important;" :class="{'border-blue-900 ring-1 ring-blue-900': open}" cascader-input>\n                <div class="flex-grow  pr-4 ${n.multiple?"flex flex-col gap-2":"truncate"}"  @click="open = true" data-list><span class="text-gray-500">${n.placeholder}</span></div>\n                <div class="flex-none w-4 h-4 text-red-900" hidden cascader-clear><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>\n            </div>\n        <div x-show="open"\n        class="mt-1 lg:absolute z-10 "\n        @click.outside="open = false" x-cloak><div class="flex items-stretch bg-white overflow-y-auto shadow rounded border border-gray-400 " cascader-layout></div></div></div>`),i=a.find("[cascader-input]"),l=a.find("[cascader-layout]");e(t).hide(),e(t).after(a);let o=n.data,s={},d=[],r=[],c=n.checked;let p=function(){let e=(t=o,function e(n){let a=[];for(let i in t)t[i].pid===n&&(t[i].children=e(t[i].id),a.push(t[i]));return 0==a.length?[]:a}(0));var t;let n=function(e){e.map((e=>{let t=function(e,t){let n=[];return function t(a){for(let i in e)e[i].id===a&&(n.push(e[i]),t(e[i].pid))}(t),n.reverse()}(o,e.id),a=[],i=[];t.map((e=>{a.push(e.id),i.push(e.name)})),e.checked=!1,e.indeterminate=!1,e.level=t.length,e.pathId=a,e.pathName=i,e.hasChildren=!1,e.numChildren=0,e.children&&e.children.length&&(e.hasChildren=!0,e.numChildren=e.children.length,n(e.children)),delete e.children,s[e.id]=e,d.push(e.id)}))};n(e,0),c.map((e=>{if(!s[e])return!1;s[e].indeterminate=!1,s[e].checked=!0,h(e)}));let i=[];for(let e in s){let t=s[e];0===t.pid&&i.push(t)}r.push(i),c.length&&a.find("[cascader-clear]").attr("hidden",!1),u(),f()},u=function(){let t="",a=[];r.map(((e,i)=>{var l;t+=`<div cascader-column  style="max-height: 300px;"  class="overflow-auto ${i?"border-l border-gray-400":""}">`,e.forEach((e=>{e.sortId=d.indexOf(e.id)})),(e=e.sort((l="sortId",function(e,t){var n=e[l],a=t[l];return isNaN(Number(n))||isNaN(Number(a))||(n=Number(n),a=Number(a)),n<a?-1:n>a?1:0}))).map((e=>{let i=`<input class="mr-2 form-checkbox" value="${e.id}" ${e.checked?"checked":""} type="checkbox">`;t+=`<div cascader-item="${e.id}" class="cursor-pointer flex items-center py-2 px-4 w-44 hover:bg-gray-200 ${n.multiple||!e.checked&&!e.indeterminate?"":"text-blue-900"}">${n.multiple?i:""}${e.name}</div>`,e.indeterminate&&!e.checked&&a.push(e.id)})),t+="</div>"}));let i=e(t);a.map((e=>{i.find('[cascader-item="'+e+'"]').find("input").prop("indeterminate",!0)})),l.html(i)},f=function(){let l="";e(t).find("option:selected").prop("selected",!1),c.map((n=>{let a=s[n];l+=`<span class="">${a.pathName.join(" / ")}</span>`,e(t).find('option[value="'+n+'"]').prop("selected",!0)})),i.find("[data-list]").html(l||`<span class="text-gray-500">${n.placeholder}</span>`),c.length?a.find("[cascader-clear]").attr("hidden",!1):a.find("[cascader-clear]").attr("hidden",!0)},h=function(e,t){t=!!t;let n=s[e].pid;if(!n)return;let a=0,i=0;for(let e in s)s[e].pid===n&&s[e].checked&&a++,s[e].pid===n&&s[e].indeterminate&&i++;s[n].checked=!1,s[n].numChildren===a&&(s[n].checked=!0),t||!a&&!i||(t=!0),s[n].indeterminate=t,h(n,t)},m=function(){for(let e in s){let t=s[e];t.checked&&(s[e].checked=!1),t.indeterminate&&(s[e].indeterminate=!1)}};a.on("click","[cascader-clear]",(function(e){e.stopPropagation(),m(),c=[];let t=[];for(let e in s){let n=s[e];0===n.pid&&t.push(n)}r=[],r.push(t),f(),u(),a[0].dispatchEvent(new Event("set-close"))})),l.on("click","[cascader-item]",(function(t){t.stopPropagation();let i=parseInt(e(this).attr("cascader-item")),l=s[i],o=[];if(!0===l.hasChildren)for(let e in s){let t=s[e];t.pid===i&&o.push(t)}n.multiple||(m(),c=[i],s[i].checked=!0,h(i),f(),!1===l.hasChildren&&a[0].dispatchEvent(new Event("set-close"))),r.splice(l.level),o.length&&r.push(o),u()})),n.multiple&&l.on("click",'input[type="checkbox"]',(function(t){let n=parseInt(e(this).val()),a=e(this).prop("checked");s[n].indeterminate=!1,s[n].checked=a;for(let t in s){let i=s[t];-1!==e.inArray(n,i.pathId)&&(s[t].indeterminate=!1,s[t].checked=a,!1===i.hasChildren&&(a?c.push(i.id):c.splice(e.inArray(i.id,c),1)))}return c=Array.from(new Set(c)),h(n),u(),f(),!0})),n.url?(e(t).next().find(".placeholder").text("加载选项中..."),app.ajax({url:n.url,notify:!1}).then((a=>{o=a.result.data,e(t).next().find(".placeholder").text(n.placeholder),p()})).catch((e=>{app.error(e.message)}))):p()},t.list=function(t,n){let a=(n=e.extend({key:"list",only:null,column:[],data:[],option:!0,num:0,addCallback:null},n)).column,i=n.data;i&&"string"==typeof i&&(i=JSON.parse(i));let l=0;a.map((e=>{"hidden"!==e.type&&l++}));let o=`<div class="overflow-hidden">\n                      <table class="table-box border border-gray-300">\n                        <thead class="bg-gray-50">\n                            <tr>\n                            ${a.map((e=>"hidden"!==e.type?`<th width="${e.width||""}">${e.name}</th>`:"")).join("")}\n                            ${n.option?'<th width="50">\n                                <div class="flex items-center space-x-2">\n                                <div>操作</div>\n                                    <a href="javascript:;" class="flex items-center" data-add>\n                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />\n                                        </svg>\n                                    </a>\n                                </div>\n</th>':""}\n                            </tr>\n                        </thead>\n                        <tbody></tbody>\n                      </table>\n                    </div>`,s=e(o),d=()=>{let e=i.map(((e,t)=>`<tr data-column>\n                    ${a.map((a=>{let i="";return e&&e[a.key]&&(i=e[a.key]),"show"===a.type?`<td class="text-wrap">${i||"无"}</td>`:"image"===a.type?`<td>\n                                    <div class="relative w-12 h-12 border-2 border-gray-400 border-dashed rounded bg-cover bg-center bg-no-repeat block hover:border-blue-900" style="background-size:90%; background-image: url('${i||"/service/image/placeholder/80/80/图片"}')" data-js="form-image">\n                                        <div class="opacity-0 hover:opacity-100 absolute flex items-center justify-center w-full h-full bg-blue-200 bg-opacity-90 rounded cursor-pointer ">\n                                            <div class="text-blue-900 w-6 h-6">\n                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-full w-full" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />\n                                                </svg>\n                                            </div>\n                                            <input name="${n.key}[${t}][${a.key}]" data-key="${a.key}" type="hidden" value="${i}">\n                                        </div>\n                                    </div>\n                               </td>`:"price"===a.type?`<td><input class="form-input" style="min-width: 80px" data-key="${a.key}" name="${n.key}[${t}][${a.key}]" type="number" min="0"  step="0.01" value="${i}"></td>`:"number"===a.type?`<td><input class="form-input" style="min-width: 80px" data-key="${a.key}" name="${n.key}[${t}][${a.key}]" type="number" min="0" step="1" value="${i}"></td>`:"hidden"===a.type?`<input name="${n.key}[${t}][${a.key}]" type="hidden" value="${i}">`:`<td><input class="form-input" style="min-width: 80px" data-key="${a.key}" name="${n.key}[${t}][${a.key}]" type="text" value="${i}"></td>`})).join("")}\n                ${n.option?'<td><a href="javascript:;" class="text-red-900" data-del>删除</a></td>':""}\n            </tr>`)).join("");i.length||(e=`<tr><td colspan="${l+(n.option?1:0)}">${page.data()}</td></tr>`),s.find("tbody").html(e)},r=()=>{let t=[];s.find("tbody tr").each((function(){let n={};e(this).find("[data-key]").each((function(){let t=e(this).data("key");n[t]=e(this).val()??""})),t.push(n)})),i=t};s.on("click","[data-add]",(()=>{if("function"==typeof n.addCallback)n.addCallback();else{if(n.num&&i.length>=n.num)return void app.error("添加数量超过限制");i.push({}),d()}})),s.on("click","[data-del]",(function(){let t=e(this).parents("[data-column]").index();i.splice(t,1),d()})),s.on("change","input",(function(){r()}));let c={};return c.getListData=()=>i,c.pushListData=e=>{let t=[];n.only&&(t=i.map((e=>e[n.only])));let l=!1;e.map((e=>{if(t.length&&t.includes(e[n.only]))return!1;if(n.num&&i.length>=n.num)return l=!0,!1;let o={};a.map((t=>{o[t.key]=e[t.key]||""})),i.push(o)})),l&&app.error("添加数量超过限制")},c.render=d,d(),e(t).html(s),c},t.choice=function(n,a){let i=(a=e.extend({key:"list",only:null,data:[],column:[],ajaxUrl:"",option:!0,num:0,ajaxColumn:[]},a)).ajaxColumn,l=a.data,o=a.column;l&&"string"==typeof l&&(l=JSON.parse(l)),i&&"string"==typeof i&&(i=JSON.parse(i)),o&&"string"==typeof o&&(o=JSON.parse(o)),o.push({name:"主键",key:a.only,type:"hidden"});let s,d,r=`<div class=" bg-light">\n                <div class="p-5">\n                <div class="mb-3">\n                    <div class="flex gap-2">\n                        <div>\n                            <input class="form-input" type="text" data-keyword name="keyword" value="" placeholder="请输入关键词搜索">\n                        </div>\n                        <div>\n                            <button class="btn-blue" data-search>搜索</button>\n                        </div>\n                    </div>\n                </div>\n                <table class="table-box border border-gray-300">\n                <thead>\n                    <tr>\n                        ${i.map((e=>`<th>${e.name}</th>`)).join("")}\n                        <th width="50"><input data-all type="checkbox" class="form-checkbox"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td colspan="${i.length+1}">${page.load()}</td>\n                    </tr>\n                </tbody>\n                </table>\n                <div class="flex justify-center mt-2">\n                    <ul pagination="" class="pagination py-2"></ul>\n                </div>\n            </div>\n            <div class="mt-3 flex items-center justify-end gap-2 flex-col-reverse lg:flex-row p-5">\n                <button type="button" class="btn w-full lg:w-auto" modal-close>取消</button>\n                <button type="button" class="btn-blue  w-full lg:w-auto" data-submit disabled>添加</button>\n            </div>\n            </div>`,c=e=>{let t=e.map(((e,t)=>`<tr>${i.map((t=>{let n="",a=e[t.key];return"image"===t.type?n+=a?`<td><span class="avatar w-10 h-10 rounded border border-gray-300" style="width: 40px; height: 40px; background-image: url(${a});"></span></td>`:'<td><span class="avatar w-10 h-10 rounded border border-gray-300 flex items-center justify-center text-gray-500" style="width: 40px; height: 40px;">暂无</span></td>':n+=`<td>${a}</td>`,n})).join("")}\n                    <td width="50"><input type="checkbox" class="form-checkbox" value="${t}"></td>\n                    </tr>`)).join("");t||(t=`<tr><td colspan="${i.length+1}">${page.empty("未找到数据","暂未找到可选数据，请添加数据后进行",!1)}</td></tr>`),s.find("tbody").html(t),s.find("[data-all]").prop("checked",!1),s.find("[data-submit]").prop("disabled",!0)},p=1,u=!1,f={first:"首页",prev:"上一页",next:"下一页",last:"尾页",totalPages:1,visiblePages:5},h=[],m=()=>{s.find("tbody").html(`<tr><td colspan="${i.length+1}">${page.load()}</td> </tr>`),app.ajax({url:a.ajaxUrl,params:{page:p,query:s.find("[data-keyword]").val()},notify:!1}).then((t=>{let n=1,a=t.result?t.result.totalPage:1;u&&(n=s.find("[pagination]").twbsPagination("getCurrentPage"),s.find("[pagination]").twbsPagination("destroy")),u=!0,s.find("[pagination]").twbsPagination(e.extend({},f,{startPage:n,totalPages:a})).on("page",(function(e,t){p=t,m()})),h=t.result.data,setTimeout((()=>{c(t.result.data)}),500)})).catch((e=>{c([])}))};(()=>{d=t.list(n,{key:a.key,only:a.only,column:o,addCallback:function(){s=e(r),Do("page",(()=>{dialog.layout({title:"选择条目",size:"large",html:s,callback:()=>{s.on("change","[data-all]",(function(){e(this).prop("checked")?(s.find("tbody").find('input[type="checkbox"]').prop("checked",!0),s.find("[data-submit]").prop("disabled",!1)):(s.find("tbody").find('input[type="checkbox"]').prop("checked",!1),s.find("[data-submit]").prop("disabled",!0))})),s.on("change",'tbody input[type="checkbox"]',(function(){let e=s.find("tbody").find('input[type="checkbox"]').length,t=s.find("tbody").find('input[type="checkbox"]:checked').length;t===e?s.find("[data-all]").prop("checked",!0):s.find("[data-all]").prop("checked",!1),t?s.find("[data-submit]").prop("disabled",!1):s.find("[data-submit]").prop("disabled",!0)})),s.on("click","[data-search]",(function(){p=1,m()})),s.on("click","[data-submit]",(function(){let t=[];s.find("tbody").find('input[type="checkbox"]:checked').each((function(){let n=parseInt(e(this).val());t.push(h[n])})),d.pushListData(t),d.render()})),m()}})}))}});let i=l.map((e=>e[a.only])).join(",");i&&app.ajax({url:a.ajaxUrl,params:{[a.only]:i},notify:!1}).then((e=>{let t=e.result?e.result.data:[],n={};t.map((e=>{n[e[a.only]]=e})),l=l.map((e=>({...e,...n[e[a.only]]||{}}))),d.pushListData(l),d.render()})).catch((e=>{}))})()},t.map=function(t,n){let a="mapback_"+(n=e.extend({key:"",name:"",province:"",city:"",region:"",address:"",position:""},n)).name;var i;window[a]=function(){let a=e(t).parents("form"),i=a.find('select[name="'+n.province+'"]'),l=a.find('select[name="'+n.city+'"]'),o=a.find('select[name="'+n.region+'"]'),s=a.find('input[name="'+n.address+'"]'),d=a.find('input[name="'+n.position+'"]'),r=d.val();r=r.split(",");let c=new BMap.Map(t,{enableMapClick:!1}),p=r[0];p=p||39.915;let u=r[1];u=u||116.404;let f=new BMap.Point(u,p);c.centerAndZoom(f,15),c.addControl(new BMap.NavigationControl),c.enableScrollWheelZoom(!0);var h=new BMap.Icon("/static/system/img/icon/marker.svg",new BMap.Size(32,35),{anchor:new BMap.Size(16,35)});let m=new BMap.Marker(f,{icon:h});c.addOverlay(m),c.addEventListener("click",(function(e){notify.loading("搜索地址中...");let t=e.point.lng,n=e.point.lat,a=new BMap.Point(t,n);m.setPosition(a),(new BMap.Geocoder).getLocation(a,(function(e){notify.loading.close(),e?d.val(n+","+t):app.error("地址选择错误！")}))}));let g=new BMap.Autocomplete({input:s[0]});g.setInputValue(s.val()),g.addEventListener("onconfirm",(function(e){let t=e.item.value;myValue=t.business,g.setInputValue(myValue),v()})),i.on("change",(function(){v()})),l.on("change",(function(){v()})),o.on("change",(function(){v()}));let v=function(){notify.loading("搜索坐标中...");let e=i.val()+l.val()+o.val();if(!e)return void notify.loading.close();g.setLocation(l.val()||i.val());let t=e+s.val();let n=new BMap.LocalSearch(c,{onSearchComplete:function(){if(!n.getResults().getPoi(0))return;let e=n.getResults().getPoi(0).point;c.centerAndZoom(e,16),m.setPosition(e),d.val(e.lat+","+e.lng)}});n.search(t),notify.loading.close()}},(i=document.createElement("script")).src="//api.map.baidu.com/api?v=3.0&ak="+n.key+"&callback="+a,document.body.appendChild(i)},t.tree=function(t,n){let a={tree:{core:{data:n.data},checkbox:{keep_selected_style:!1},plugins:["checkbox"]},target:"",callback:null};n=e.extend(a,n),Do("tree",(()=>{e(t).jstree(n.tree),e(t).on("changed.jstree",(function(a,i){base.callback(n.callback,i.selected);for(let a in i.selected)n.target?e(n.target).val(i.selected[a]):e(t).prev().val(i.selected[a])}))}))}}(jQuery,window.form={}),function(e,t){t.tooltip=function(t,n){n=e.extend({title:"请输入提示内容"},n),Do("tooltip",(function(){tippy(t,{content:n.title})}))},t.menu=function(t,n){n=e.extend({},n),e(t).find("[data-parent]").on("click",(function(){e(this).hasClass("active")?e(t).find("[data-parent]").removeClass("active"):(e(t).find("[data-parent]").removeClass("active"),e(this).addClass("active"))}))},t.code=function(t){t=e.extend({},t),Do("highlight",(function(){hljs.initHighlightingOnLoad()}))},t.hidden=function(t,n){n=e.extend({},n),$obj=t,e(t).on("click",(function(){let t=e(this).prev();t.prop("hidden")?(t.prop("hidden",!1),e($obj).text("隐藏")):(t.prop("hidden",!0),e($obj).text("显示"))}))},t.dropdown=function(e){return{open:!1,dropdown:{"x-show"(){return this.open},"@click.outside"(){this.open=!1}}}}}(jQuery,window.show={}),function(e,t){t.nav=function(t,n){n=e.extend({},n),Do("cookie",(()=>{e("[data-menu-switch]").on("click",(function(){if(e(".sidebar-main").find(".open").removeClass("open"),e(this).hasClass("active"))e(".layout-body").addClass("layout-body-sm"),e(".layout-main").removeClass("layout-main-sidebar"),cookie.set("menu-switch",1,{path:"/"});else{e(".layout-body").removeClass("layout-body-sm");let t=e(".sidebar-main").find("[data-parent].active");t.addClass("open"),t.data("parent")&&e(".layout-main").addClass("layout-main-sidebar"),cookie.set("menu-switch",0,{path:"/"})}})),e(t).find("[data-parent]").on("click",(function(){let n=e(".layout-body").hasClass("layout-body-sm");e(this).hasClass("open")?(e(t).find("[data-parent]").removeClass("open active"),e(".layout-main").removeClass("layout-main-sidebar")):(e(t).find("[data-parent]").removeClass("open active"),e(this).addClass("active open"),e(this).data("parent")&&!n?e(".layout-main").addClass("layout-main-sidebar"):e(".layout-main").removeClass("layout-main-sidebar"))})),e(t).find(".nav-sub").on("click","a",(function(){e(t).find(".nav-sub a.active").removeClass("active"),e(this).addClass("active")}))}))},t.loadArea=function(t){return{open:!1,active:t.active,data:t.data,el:{"@click"(){this.open=!this.open}},menu:{"x-show"(){return this.open},"@click.outside"(){this.open=!1}},select(e){this.open=!1,this.active=e,this.loadData({type:e})},loadData(n){e(t.target).html(page.load()),setTimeout((function(){app.ajax({url:t.url,type:"get",notify:!1,params:n}).then((n=>{e(t.target).html(n.response)})).catch((n=>{e(t.target).html(page.empty())}))}),500)}}},t.spec=function(t,n){let a=(n=e.extend({key:"spec",keysData:[],specData:[],skuList:[]},n)).skuList,i=n.keysData,l=n.specData;a&&"string"==typeof a&&(a=JSON.parse(a)),i&&"string"==typeof i&&(i=JSON.parse(i)),l&&"string"==typeof l&&(l=JSON.parse(l)),a=a||[],l=l||[];let o=e('<div><div class="app-spec"></div></div>'),s=e('<div class="overflow-x-scroll">\n                      <table class="table-box">\n                      </table>\n                    </div>');o.on("click","[data-add]",(function(){e(t).trigger("add")}));let d=()=>{let e=l.map(((e,t)=>`<div class="bg-gray-100 p-3 mb-3" data-spec>\n                                    <div class="flex flex-wrap flex-col lg:flex-row gap-4 lg:items-center mb-4">\n                                        <div class="flex-none">规格名</div>\n                                        <div class="flex-grow flex flex-col lg:flex-row gap-4 lg:items-center">\n                                            <div class="lg:w-52"><input type="text" data-spec-name class="form-input" name="${n.key}[spec][${t}][name]" value="${e.name}"></div>\n                                            <a href="javascript:;" data-del class="text-red-900 block">删除规格</a>\n                                        </div>\n                                    </div>\n                                    <div class="flex flex-wrap flex-col lg:flex-row gap-4 lg:items-center">\n                                        <div class="flex-none">规格值</div>\n                                        <div class="flex-grow">\n                                            <div class="flex flex-wrap  flex-col lg:flex-row gap-4 lg:items-center">\n                                                ${e.spec.map((e=>`<div data-item>\n                                                            <input type="hidden"  name="${n.key}[spec][${t}][spec][]" value="${e}">\n                                                            <span class="btn-outline-blue flex items-center ">\n                                                                <div class="flex-grow flex justify-start">${e}</div>\n                                                                <span class="flex-none ml-2 h-4 w-4 " data-item-del>\n                                                                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n                                                                    </svg>\n                                                                </span>\n                                                            </span>\n                                                        </div>`)).join("")}\n                                                <div>\n                                                    <div class="relative" x-data="{open: false}">\n                                                        <span class="btn bg-white flex gap-2 justify-center items-center block" @click="open = !open">\n                                                            <div class="w-4 h-4">\n                                                                <svg class="stroke-current w-full h-full" style="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                                    <path d="M12 4V20M20 12L4 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n                                                                </svg>\n                                                            </div>\n                                                            添加\n                                                        </span>\n                                                        <div class="dropdown mt-1 left-0 relative lg:absolute" x-cloak @click.outside="open = false" x-show="open">\n                                                            <div class="flex space-x-2 ">\n                                                                    <input type="text" style="width: 120px;" class="flex-grow form-input">\n                                                                    <button type="button" class="flex-grow-0 btn-blue" data-item-add>确定</button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                        </div>\n                        `));o.find(".app-spec").html(e);let t=l.map((e=>!(!e.name||!e.spec.length)&&e)).filter((e=>e)),d=function(...e){return e.reduce(((e,t)=>{let n=[];return e.forEach((e=>{t.forEach((t=>{n.push(e.concat([t]))}))})),n}),[[]])}(...t.map((e=>Object.assign([],e.spec))).filter((e=>e))),c=`<thead>\n              <tr>\n                ${t.map((e=>`<th class="">${e.name}</th>`)).filter((e=>e)).join("")}\n                ${i.map((e=>`<th class="" data-key="${e.key}"><div class="flex items-center"><div class="flex-grow">${e.name}</div>\n                    <a class="flex-none hover:text-blue-900" href="javascript:;" data-batch>\n                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 13l-7 7-7-7m14-8l-7 7-7-7" />\n                        </svg>\n                    </a>\n                </div></th>`))}\n                <th class="" width="70" style="text-align: right">上架</th>\n              </tr>\n            </thead>\n            <tbody>\n                ${d.map(((e,t)=>`<tr data-row>\n                ${e.map((e=>`<td>${e}</td>`)).join("")}\n                ${i.map((e=>{let i="";return a[t]&&a[t][e.key]&&(i=a[t][e.key]),"image"===e.type?`<td>\n                                <div class="relative w-12 h-12 border-2 border-gray-400 border-dashed rounded bg-cover bg-center bg-no-repeat block hover:border-blue-900" style="background-size:90%; background-image: url('${i||"/service/image/placeholder/80/80/图片"}')" data-js="form-image">\n                                    <div class="opacity-0 hover:opacity-100 absolute flex items-center justify-center w-full h-full bg-blue-200 bg-opacity-90 rounded cursor-pointer ">\n                                        <div class="text-blue-900 w-6 h-6">\n                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-full w-full" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />\n                                            </svg>\n                                        </div>\n                                        <input name="${n.key}[sku][${t}][${e.key}]" data-key="${e.key}" type="hidden" value="${i}">\n                                    </div>\n                                </div>\n                           </td>`:"price"===e.type?`<td><input class="form-input" style="min-width: 80px" data-key="${e.key}" name="${n.key}[sku][${t}][${e.key}]" type="number" min="0"  step="0.01" value="${i}"></td>`:"number"===e.type?`<td><input class="form-input" style="min-width: 80px" data-key="${e.key}" name="${n.key}[sku][${t}][${e.key}]" type="number" min="0" step="1" value="${i}"></td>`:`<td><input class="form-input" style="min-width: 80px" data-key="${e.key}" name="${n.key}[sku][${t}][${e.key}]" type="text" value="${i}"></td>`}))}\n                    <td style="text-align: right">\n                        <input type="hidden" name="${n.key}[sku][${t}][id]" data-key="id" value="${a[t]&&a[t].id?a[t].id:""}">\n                        <input type="hidden" name="${n.key}[sku][${t}][spec]" data-key="spec" value="${e.map((e=>e)).join(":")}">\n                        <label>\n                            <input class="form-checkbox" name="${n.key}[sku][${t}][status]" data-key="status" type="checkbox" value="1" ${a[t]?a[t].status?"checked":"":"checked"}>\n                        </label>\n                    </td>\n                </tr>`))}\n            </tbody>`;s.find("table").html(c),r()},r=()=>{let t=[];s.find("tbody tr").each((function(){let n={};e(this).find("[data-key]").each((function(){let t=e(this).data("key");"checkbox"===e(this).attr("type")?n[t]=e(this).prop("checked")?1:0:n[t]=e(this).val()??""})),t.push(n)})),a=t};e(t).on("add",(function(){l.push({name:"",spec:[]}),d()})),o.on("change","[data-spec-name]",(function(){let t=e(this).parents("[data-spec]").index();l[t].name=e(this).val(),d()})),o.on("click","[data-del]",(function(){let t=e(this).parents("[data-spec]").index();l.splice(t,1),d()})),o.on("click","[data-item-add]",(function(){let t=e(this).prev().val();if(!t)return app.error("请输入规格值"),!1;let n=e(this).parents("[data-spec]").index();return-1!==e.inArray(t,l[n].spec)?(app.error("规格值不能重复"),!1):(l[n].spec.push(t),d(),!0)})),o.on("click","[data-item-del]",(function(){let t=e(this).parents("[data-spec]").index(),n=e(this).parents("[data-item]").index();return l[t].spec.splice(n,1),d(),!0})),s.on("change","input",(function(){r()})),s.on("click","[data-batch]",(function(){let t=e(this).parents("th").data("key"),n=s.find("tbody tr:eq(0)").find('[data-key="'+t+'"]').val();a=a.map((e=>(e[t]=n,e))),d()})),d(),e(t).append(o),e(t).append(s)}}(jQuery,window.system={}),function(e,t){t.upload=function(t,n){let a={url:`/${window.appManage}/upload`,loading:!0,params:null,image:{thumb:0,width:0,height:0,water:0,alpha:80},tipEl:"",textLoading:"",textFail:"",textSuccess:"",callback:null};n=e.extend(a,n);let i=e('<input class="sr-only" type="file" multiple>');e(t).css("position","relative"),e(t).css("overflow","hidden"),e(t).prepend(i);let l=e('<span class="ml-2" progress></span>'),o=function(){l.remove(),i.attr("disabled",!1),e(t).attr("disabled",!1),i.val("")};i.on("change",(function(a){let s=a.target.files,d=new FormData;e.each(s,(function(e,t){d.append("file_"+e,t)})),n.loading&&("string"==typeof n.loading?e(t).find(n.loading).html(l):e(t).append(l)),i.attr("disabled",!0),e(t).attr("disabled",!0),l.text("0%"),e(t).find(n.tipEl).text(n.textLoading);let r="function"==typeof n.params?n.params():n.params;r=e.extend({},r,n.image),app.ajax({url:n.url,params:r,data:d,type:"post",axios:{onUploadProgress:e=>{let t=(e.loaded/e.total*100|0)+"%";l.text(t)}},notify:!1}).then((function(a){o(),e(t).find(n.tipEl).text(n.textSuccess),base.callback(n.callback,a.result)})).catch((function(a){o(),e(t).find(n.tipEl).text(n.textFail),n.tipEl||app.error(a.message)}))}))},t.manage=function(n){let a,i={url:`/${window.appManage}/fileManage`,uploadUrl:`/${window.appManage}/upload`,multiple:!1,type:"all",image:{},callback:null},l=`\n                    <div>\n                        <div class="flex flex-col lg:flex-row p-4 border-b border-gray-300  gap-2">\n                            <div class="flex-grow flex flex-col lg:flex-row gap-2">\n                                <div>\n                                    <label type="button" class="btn-blue block" file-upload>上传</label>\n                                </div>\n                                <div>\n                                    <button type="button" class="btn-outline-red w-full hidden" file-delete>删除文件</button>\n                                </div>\n                            </div>\n                            <div class="flex-none flex flex-col lg:flex-row gap-2">\n                                <div class=" ${"all"!=(n=e.extend(i,n)).type?"hidden":""}"">\n                                    <select class="form-select filter-type ${"all"!=n.type?"disabled":""}">\n                                        <option value="all">全部类型</option>\n                                        <option value="image" ${"image"==n.type?"selected":""}>图片</option>\n                                        <option value="video" ${"video"==n.type?"selected":""}>视频</option>\n                                        <option value="audio" ${"audio"==n.type?"selected":""}>音频</option>\n                                        <option value="document" ${"document"==n.type?"selected":""}>文档</option>\n                                        <option value="other" ${"other"==n.type?"selected":""}>其他</option>\n                                    </select>\n                                </div>\n                                <div>\n                                    <input type="text" class="form-input" filter-keyword placeholder="请输入关键词">\n                                </div>\n                            </div>\n                        </div>\n                            <div class="flex flex-col lg:flex-row items-stretch border-b border-gray-400" x-data="{fileDir: false}">\n                                <div class="lg:hidden">\n                                    <div class="p-2 text-center border-b border-gray-400" x-on:click="fileDir = !fileDir" x-text="fileDir ? '关闭目录' : '打开目录'"></div>\n                                </div>\n                                <div :class="{'hidden' : !fileDir}" class="flex-none filemanage-sidebar border-b bg-gray-100 lg:bg-white lg:w-40 lg:border-b-0 lg:border-r border-gray-400 lg:h-96 lg:overflow-y-auto  lg:block">\n                                </div>\n                                <div class="flex-grow filemanage-main  lg:h-96 overflow-y-auto">\n                                    <ul class="files-list grid lg:grid-cols-4 md:grid-cols-3 grid-cols-2  gap-5 p-4">\n                                    </ul>\n                                    <ul pagination class="pagination flex justify-center p-3"></ul>\n                                        <div class="files-none hidden flex flex-col justify-center items-center text-center h-full">\n                                          <div class="w-20 h-20 ">\n                                            <svg class="w-full h-full opacity-60" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31303" width="200" height="200"><path d="M44.002314 921.371007a485.548324 102.374556 0 1 0 971.095648 0 485.548324 102.374556 0 1 0-971.095648 0z" fill="#fbbab7" p-id="31304"></path><path d="M533.937548 453.373321L204.876331 539.659876V731.248259l329.061217-86.287554 329.061216 86.287554V539.659876z" fill="#fb5860" p-id="31305"></path><path d="M716.749113 643.497068c0 16.088002-13.162729 29.24973-29.249731 29.249731s-29.24973-13.161729-29.24973-29.249731S671.410381 614.247338 687.499382 614.247338s29.24973 13.162729 29.249731 29.24973m8.774819-190.123747c8.774819 0 16.088002-7.313182 16.088001-16.088002 0-8.774819-7.313182-16.087002-16.088001-16.087002-8.774819 0-16.087002 7.312183-16.087002 16.087002 1.462636 8.774819 7.312183 16.088002 16.087002 16.088002m-23.400184-58.500461c32.175003 0 58.500461 26.325457 58.50046 58.500461S734.298751 511.872782 702.122748 511.872782s-58.499461-26.324457-58.499461-58.499461 26.325457-58.500461 58.499461-58.500461m-29.249731-21.936548c0-11.700092-10.237456-21.937548-21.937547-21.937548s-21.936548 10.237456-21.936548 21.937548 10.237456 21.936548 21.936548 21.936548 21.937548-10.237456 21.937547-21.936548" fill="#cb302b" p-id="31306"></path><path d="M541.24973 434.361046h-10.237455c27.787094-20.474911 51.187278-48.263005 67.27528-83.362282 49.724642-108.225102 2.924273-236.924116-103.837193-288.111394S260.451519 59.962097 210.724877 168.1872c-30.712367 68.736916-27.787094 162.336654 21.937548 222.298751 27.788094 33.63764 65.812643 58.499461 109.687739 58.49946 65.811643 0 118.461558-49.724642 118.461558-115.537285s-52.649915-119.924195-118.461558-119.924194c-13.162729 0-24.862821 1.462636-36.562913 5.850546 19.012275-10.237456 40.949823-16.088002 64.350007-16.088002 78.974372 0 143.324379 65.812643 143.324379 146.249652 0 10.237456-1.462636 21.937548-2.925273 32.175003-2.925273 14.624365-8.774819 29.24973-16.087002 42.412459-7.313182 11.699092-13.162729 20.474911-23.400184 30.712367-7.312183 8.774819-13.162729 13.161729-19.012275 20.474912-17.549638 20.474911-27.787094 48.262005-27.787094 77.511735 0 65.812643 52.648915 119.924195 116.998922 119.924195S658.249652 618.636247 658.249652 552.822604s-52.649915-118.461558-116.999922-118.461558" fill="#d81e06" p-id="31307"></path><path d="M526.625365 979.870468l-315.899488-81.899645c-11.699092-2.924273-20.474911-14.624365-20.474911-26.324458L204.876331 541.122512l321.749034 87.750191v350.997765z" fill="#d81e06" p-id="31308"></path><path d="M443.263084 804.371086l-276.411303-73.123827c-14.625365-4.387909-23.400184-19.013275-19.012274-33.63764l49.724641-156.487107 329.061217 87.750191-51.187278 157.948744c-4.387909 13.162729-19.013275 20.474911-32.175003 17.549639" fill="#fb7f7a" p-id="31309"></path><path d="M526.625365 979.870468l315.898488-81.899645c11.700092-2.924273 20.474911-14.624365 20.474911-26.324458V541.122512L526.625365 628.873703v350.997764z" fill="#d81e06" p-id="31310"></path><path d="M607.062374 804.371086L886.396949 731.248259c14.625365-4.387909 23.400184-19.013275 19.013275-33.63764l-46.800369-156.487107L526.626365 628.873703l46.799369 156.486107c4.387909 14.625365 19.012275 21.937548 33.637639 19.012275" fill="#fb7f7a" p-id="31311"></path><path d="M751.849389 228.149297H726.986568c-5.849546 0-10.237456-2.925273-10.237455-8.774819 0-5.850546 4.387909-8.775819 10.237455-8.775819h24.862821v-24.861821c0-5.850546 4.38691-10.237456 10.237456-10.237456 5.849546 0 10.237456 4.38691 10.237455 10.237456v24.861821h21.936548c5.850546 0 10.237456 2.925273 10.237456 8.775819 0 5.849546-4.38691 8.774819-10.237456 8.774819H772.3253v21.937548c0 5.849546-4.387909 10.237456-10.237456 10.237455-5.850546 0-10.237456-4.387909-10.237455-10.237455v-21.937548z" fill="#6DD400" p-id="31312"></path><path d="M952.210592 383.173768l-13.162728-13.162729c-4.38691-4.387909-4.38691-10.237456 0-14.625365 4.387909-4.38691 11.700092-4.38691 16.088001 0l13.161729 13.162729 13.162729-13.162729c4.387909-4.38691 11.700092-4.38691 16.088001 0 4.38691 4.387909 4.38691 10.237456 0 14.625365l-13.162728 13.162729 13.162728 13.161729c4.38691 4.387909 4.38691 10.237456 0 14.625365-2.925273 1.462636-4.387909 2.925273-7.313182 2.925273s-5.849546-1.462636-7.312183-2.925273l-13.162729-13.162729-13.161728 13.162729c-1.462636 1.462636-4.387909 2.925273-7.313183 2.925273s-5.849546-1.462636-7.312182-2.925273c-4.387909-4.387909-4.387909-10.237456 0-14.625365l10.237455-13.161729zM26.451676 223.761387L1.589855 200.361203c-1.462636-2.924273-1.462636-5.849546 0-7.312182 2.925273-2.925273 5.849546-2.925273 7.312183 0l24.86282 24.86282c1.462636 1.462636 1.462636 5.849546 0 7.312183s-4.387909 1.462636-7.313182-1.462637z" fill="#F7B500" p-id="31313"></path><path d="M33.764858 200.361203L8.902038 223.761387c-1.462636 1.462636-5.849546 1.462636-7.312183 0s-1.462636-4.38691 0-7.312182l24.861821-24.862821c2.925273-1.462636 5.850546-1.462636 7.313182 1.462637 2.924273 1.462636 2.924273 4.387909 0 7.312182z" fill="#F7B500" p-id="31314"></path><path d="M848.373399 39.487186V4.388909c0-1.462636 2.925273-4.387909 7.312183-4.387909s7.313182 2.925273 7.313182 4.387909v33.63664c0 2.925273-2.925273 5.850546-7.313182 5.850546s-7.312183-2.925273-7.312183-4.387909z" fill="#FA6400" p-id="31315"></path><path d="M873.23622 29.24973H839.59858c-2.925273 0-5.849546-2.925273-5.849546-7.312182s2.924273-7.312183 4.38691-7.312183h33.63764c2.925273 0 5.849546 2.924273 5.849546 7.312183s-2.924273 7.312183-4.38691 7.312182z" fill="#FA6400" p-id="31316"></path><path d="M95.189592 525.03551c-20.474911 0-36.562913-16.088002-36.562913-35.100276 0-20.474911 16.088002-36.561913 36.562913-36.561913s36.561913 16.087002 36.561913 35.099276c0 20.474911-16.087002 36.562913-36.561913 36.562913z m0-51.187278c-8.774819 0-14.625365 5.849546-14.625365 14.624365s5.850546 14.625365 14.625365 14.625365 14.624365-5.850546 14.624365-14.625365-5.849546-14.624365-14.624365-14.624365z" fill="#F7B500" p-id="31317"></path></svg>\n                                          </div>\n                                          <div class="mt-5 text-xl">没有找到文件</div>\n                                          <div class="mt-1 text-gray-500">\n                                            该目录下暂时没有找到该类型的文件，您可以进行上传\n                                          </div>\n                                        </div>\n                                </div>\n                            </div>\n                    <div class="p-4 flex flex-col lg:flex-row">\n                        <div class="flex-grow flex gap-2 hidden lg:flex  flex-col lg:flex-row">\n                                <button type="button" class="btn" folder-create>创建目录</button>\n                                <button type="button" class="btn" folder-delete>删除目录</button>\n                        </div>\n                        <div class="flex-none flex gap-2  flex-col lg:flex-row">\n                           <button type="button" class="btn me-2" modal-close>关闭</button>\n                           <button type="button" data-submit class="btn-blue" disabled>确定</button>\n                        </div>\n                    </div>\n                </div>`,o=e(l),s=1,d=!1,r={first:"首页",prev:"上一页",next:"下一页",last:"尾页",totalPages:1,visiblePages:5},c=!1,p={},u={},f=()=>{o.find(".filemanage-sidebar").on("click","li",(function(){o.find(".filemanage-sidebar li").removeClass("active text-blue-900"),e(this).addClass("active text-blue-900"),o.find(".folder-delete-body").removeClass("hidden"),a=e(this).data("id"),v()})),o.find("[folder-delete]").click((function(){let e=o.find(".filemanage-sidebar li.active"),t=e.data("id");if(!t)return app.error("请选择目录"),!1;dialog.confirm({title:"删除目录",content:"确认删除该上传目录？",success:function(){app.ajax({url:n.url,params:{type:"folder-delete",id:t},type:"get",notify:!1}).then((t=>{e.remove(),o.find(".filemanage-sidebar li:eq(0)").click()})).catch((e=>{app.error(e.message)}))}})})),o.find("[folder-create]").click((function(){let e=o.find(".filemanage-sidebar").children("ul");dialog.prompt({title:"请输入目录名称",callback:function(t){if(!t)return app.error("请输入目录名称"),!1;app.ajax({url:n.url,params:{type:"folder-create",name:t},type:"get",notify:!1}).then((t=>{e.append(`<li class="py-3 px-4 cursor-pointer hover:bg-gray-200" data-id="${t.result.id}">${t.result.name}</li>`)})).catch((e=>{app.error(e.message)}))}})}))};e(window).keydown((function(e){e.shiftKey&&(c=!0)})).keyup((function(){c=!1}));let h,m=()=>{o.find(".files-list").on("click",".item",(function(){n.multiple&&c||o.find(".files-list .active").removeClass("active bg-gray-200 text-blue-900 "),e(this).toggleClass("active  bg-gray-200 text-blue-900 ");let t=o.find(".files-list .active").length;t?o.find("[data-submit]").attr("disabled",!1):o.find("[data-submit]").attr("disabled",!0),t>=1&&o.find("[file-delete]").removeClass("hidden"),t<=0&&o.find("[file-delete]").addClass("hidden")})),o.on("click","[data-submit]",(function(){let t=[];o.find(".files-list .active").each((function(){t.push(p[e(this).data("id")])})),base.callback(n.callback,t),o.trigger("close")})),o.on("click","[file-delete]",(function(){let t=[];if(o.find(".files-list .active").each((function(){t.push(e(this).data("id"))})),!t)return app.error("请选择删除文件"),!1;dialog.confirm({title:"删除文件",content:"确认删除所选上传文件？",success:function(){app.ajax({url:n.url,params:{type:"files-delete",id:t.join(",")},type:"get",notify:!1}).then((e=>{v()})).catch((e=>{app.error(e.message)}))}})}))},g=()=>{o.on("change","[filter-type]",(function(){n.type=e(this).val(),s=0,v()})),o.on("input propertychange","[filter-keyword]",(function(){let t=e(this).val();h&&window.clearTimeout(h),h=setTimeout((function(){u.query=t,s=0,v()}),1e3)}))},v=function(){app.ajax({url:n.url,params:e.extend({},u,{id:a,page:s,filter:n.type,type:"files"}),type:"get",notify:!1}).then((t=>{let n=1;d&&(n=o.find("[pagination]").twbsPagination("getCurrentPage"),o.find("[pagination]").twbsPagination("destroy")),d=!0,o.find("[pagination]").twbsPagination(e.extend({},r,{startPage:n,totalPages:t.result.total})).on("page",(function(e,t){s=t,v()})),function(t){let n="";p={},e.each(t,(function(e,t){p[t.file_id]=t,n+=`<li>\n                            <div class="item mb-1 mt-1 rounded p-2 text-gray-800 select-none cursor-pointer" data-id="${t.file_id}">\n                                <div class="h-20 rounded bg-cover bg-center bg-no-repeat rounded" style="background-image: url('${t.cover}')"></div>\n                                <div class="mt-1">\n                                    <div class="truncate ">${t.title}</div>\n                                    <div class="text-xs text-gray-500">${t.time}</div>\n                                    <div class="text-xs text-gray-500">${t.size}</div>\n                                </div>\n                            </div>\n                        </li>`})),t.length?(o.find(".files-list").html(n),o.find(".files-list").removeClass("hidden"),o.find(".pagination").removeClass("hidden"),o.find(".files-none").addClass("hidden")):(o.find(".files-list").html(""),o.find(".files-list").addClass("hidden"),o.find(".pagination").addClass("hidden"),o.find(".files-none").removeClass("hidden")),o.find("[data-submit]").attr("disabled",!0),o.find("[file-delete]").addClass("hidden")}(t.result.data)})).catch((e=>{app.error(e.message)}))},y=function(){t.upload(o.find("[file-upload]"),{url:n.uploadUrl,image:n.image,params:function(){return{id:a}},callback:function(e){v()}}),f(),m(),g(),app.ajax({url:n.url,params:{type:"folder"},type:"get",notify:!1}).then((t=>{let n="<ul>";e.each(t.result,((e,t)=>{n+=function(e){let t="";return t+=`<li class="py-3 px-4 cursor-pointer hover:bg-gray-200" data-id="${e.dir_id}">`,t+=e.name,t+="</li>",t}(t)})),n+="</ul>",o.find(".filemanage-sidebar").html(n),o.find(".filemanage-sidebar").find("li:eq(0)").click()})).catch((e=>{app.error(e.message)})),dialog.modal(o,"max-w-4xl")};Do("page",(()=>{y()}))}}(jQuery,window.file={}),function(e,t){t.load=function(){return'\n            <div class="flex items-center justify-center py-6">\n                <div class="flex items-center space-x-4">\n                  <div class="flex-none">\n                    <svg class="animate-spin w-6 h-6 text-blue-900" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                    </svg>\n\n                  </div>\n                  <div class="flex-grow">\n                      <div class="text-base">加载数据中...</div>\n                      <div class="text-gray-500">\n                        如果长时间未加载，您可以尝试重新加载或刷新\n                      </div>\n                 </div>\n                </div>\n            </div>\n        '},t.empty=function(e,t,n){return`\n            <div class="flex flex-col items-center">\n                <div class="w-20 h-20">\n                    <svg class="w-full h-full" viewBox="0 0 140 140" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                        <g id="06.-Design-Variations" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                            <g id="02-example-products-empty" transform="translate(-776.000000, -284.000000)">\n                                <g id="empty-state" transform="translate(290.000000, 164.000000)">\n                                    <g id="illustration" transform="translate(486.000000, 120.000000)">\n                                        <rect id="illustration-bg" fill="#FFFFFF" opacity="0" x="0" y="0" width="140" height="140"></rect>\n                                        <g id="receipt" transform="translate(28.000000, 16.000000)">\n                                            <path d="M78,0.979732163 L6,1 L6,61.6706477 C6,62.220134 78,61.9838101 78,61.6706477 L78,0.979732163 Z" id="Path" fill="#D7DBEC"></path>\n                                            <polygon id="Path" fill="#336DFF" points="84 9 0 9 0 109 5.5 103 10.5 109 16 103 21 109 26.5 103 31.5 109 37 103 42 109 47.5 103 52.5 109 58 103 63 109 68.5 103 73.5 109 79 103 84 109"></polygon>\n                                            <polygon id="Path" fill="#FFFFFF" fill-rule="nonzero" points="21.6465315 28.5275452 24.3534685 31.4724548 15.3588167 39.740266 10.6190485 35.2159419 13.3809515 32.3225197 15.41 34.26"></polygon>\n                                            <rect id="Rectangle" fill="#FFFFFF" x="32" y="32" width="38" height="4"></rect>\n                                            <polygon id="Path" fill="#FFFFFF" fill-rule="nonzero" points="21.6465315 45.5275452 24.3534685 48.4724548 15.3588167 56.740266 10.6190485 52.2159419 13.3809515 49.3225197 15.41 51.26"></polygon>\n                                            <rect id="Rectangle" fill="#FFFFFF" x="32" y="49" width="38" height="4"></rect>\n                                            <polygon id="Path" fill="#FFFFFF" fill-rule="nonzero" points="21.6465315 62.5275452 24.3534685 65.4724548 15.3588167 73.740266 10.6190485 69.2159419 13.3809515 66.3225197 15.41 68.26"></polygon>\n                                            <rect id="Rectangle" fill="#FFFFFF" x="32" y="66" width="38" height="4"></rect>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </div>\n                <p class="text-lg mb-2 mt-4">${e||"未找到数据"}</p>\n                <p class="text-gray-500">\n                    ${t||"暂时未找到数据，您可以尝试刷新页面"}\n                </p>\n                ${!1===n?"":'<div class="mt-5">\n                    <a href="javascript:location.reload();" class="btn-blue flex items-center space-x-2">\n                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>\n                        <span>刷新页面</span>\n                    </a>\n                </div>'}\n            </div>\n        `},t.data=function(e,t){return`\n            <div class="flex items-center justify-center py-6">\n                <div class="flex items-center space-x-4">\n                  <div class="flex-none">\n                    <svg class="w-10 h-10" viewBox="0 0 1320 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2514" width="16" height="16"><path d="M835.267497 208.791925V13.472746L309.80188 94.309224l397.467399 127.998218z" fill="#6180F1" p-id="2515"></path><path d="M1219.247894 148.200209L835.253241 13.472746v195.319179z" fill="#AFC0FD" p-id="2516"></path><path d="M612.945799 397.4674l-303.158176-107.78197v424.412892l383.994653 114.525472 13.472747-606.302095z" fill="#6180F1" p-id="2517"></path><path d="M707.255023 222.307442l-13.472747 606.302095 525.465618-80.836477v-417.726419l-370.521907 94.309224z" fill="#AFC0FD" p-id="2518"></path><path d="M1219.247894 148.214466l-383.994653 60.634486-127.998218 13.472747 141.470964 202.10545 370.521907-94.309223 101.052726-26.945493z" fill="#E2E3FE" p-id="2519"></path><path d="M707.269279 222.307442L309.80188 94.309224l-74.135747 168.416456 74.135747 26.945493 303.158176 107.78197z" fill="#AFC0FD" p-id="2520"></path><path d="M444.529342 990.311006c0 18.533937 144.778559 33.688994 323.360167 33.688994s323.360167-15.083773 323.360167-33.688994-144.778559-33.688994-323.360167-33.688994-323.360167 15.083773-323.360167 33.688994z" fill="#6180F1" opacity=".5" p-id="2521"></path></svg>\n                  </div>\n                  <div class="flex-grow">\n                      <div class="text-base">${e||"暂无数据"}</div>\n                      <div class="text-gray-500">\n                        ${t||"暂无添加数据，您可以进行添加操作"}\n                      </div>\n                 </div>\n                </div>\n            </div>\n        `}}(jQuery,window.page={});
